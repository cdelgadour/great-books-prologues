(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__2id_2"}},124:function(e,t,a){e.exports={Layout:"Layout_Layout__2IMf4",App:"Layout_App__3uoT_"}},128:function(e,t,a){e.exports={loader:"Spinner_loader__35_IE",load2:"Spinner_load2__aixSK"}},129:function(e,t,a){e.exports=a(299)},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},171:function(e,t,a){},299:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(122),c=a.n(r),l=(a(134),a(12)),i=a(26),u=a(27),s=a(29),d=a(28),m=a(30),h=a(17),f=(a(135),function(e){return o.a.createElement("button",{onClick:function(){return e.clicked(e.bookTitle)}},e.bookTitle)}),b=(a(136),a(137),function(e){var t=["BookInfo","Incorrect"].join(" ");return e.correct&&(t=["BookInfo","Correct"].join(" ")),o.a.createElement("div",{className:t},o.a.createElement("h3",null,"Correct!"),o.a.createElement("h3",null,o.a.createElement("em",null,e.bookTitle)," by ",e.authorName),o.a.createElement("button",{onClick:e.nextTitle},"Next"))}),p=function(e){var t=e.titles.map(function(t,a){return o.a.createElement(f,{bookTitle:t,key:a,clicked:e.checkAnswer})});return e.correct&&(t=o.a.createElement(b,{bookTitle:e.bookTitle,authorName:e.authorName,correct:e.correct,nextTitle:e.nextTitle})),o.a.createElement("div",{className:"AnswerArea"},t)},k=(a(138),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state=Object(l.a)({},a.props.turnData(),{answered:null,openMenu:!1,wrongAnswersIDs:[]}),a.answerHandler=function(e){a.state.bookInfo.bookTitle===e?a.setState({answered:!0,wrongAnswersIDs:[]}):a.setState(function(t){return{answered:!1,wrongAnswersIDs:t.wrongAnswersIDs.concat(e)}})},a.nextTitleHandler=function(){var e=Object(l.a)({},a.props.turnData());a.setState(Object(l.a)({},e,{answered:null}))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"BookQuotes"},o.a.createElement("div",{className:"Quote-Body fade-in"},this.state.bookInfo.text),o.a.createElement(p,{titles:this.state.bookList,checkAnswer:this.answerHandler,display:this.state.answered,bookTitle:this.state.bookInfo.bookTitle,authorName:this.state.bookInfo.author,correct:this.state.answered,nextTitle:this.nextTitleHandler,wrongAnswers:this.state.wrongAnswersIDs}))}}]),t}(n.Component)),E=(a(139),a(123)),v=a.n(E),w=function(e){return e.show?o.a.createElement("div",{className:v.a.Backdrop,onClick:e.close}):null},g=(a(140),a(25)),T=function(e){return e.children?o.a.createElement("li",{className:"NavItem"},o.a.createElement(g.b,{to:e.path,onClick:e.clicked},e.children)):null},j=Object(h.d)(function(e){var t=["Sidedrawer"];return e.open&&(t=["Sidedrawer","Open"]),o.a.createElement("div",null,o.a.createElement(w,{show:e.open,close:e.clicked}),o.a.createElement("div",{className:t.join(" ")},o.a.createElement("h2",{className:"close",onClick:e.clicked},"\xd7"),o.a.createElement("ul",{className:"NavItems"},o.a.createElement(T,{path:"/",clicked:e.clicked},"Home"),o.a.createElement(T,{path:"/add-quote",clicked:e.clicked},"Add a quote!"))))}),N=(a(149),a(150),function(e){return o.a.createElement("div",{className:"DrawerToggle",onClick:e.open},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))}),y=function(e){return o.a.createElement("header",{className:"Toolbar"},o.a.createElement(N,{open:e.clicked}),o.a.createElement("h1",{className:"Title"},"Book Quotes"),o.a.createElement("ul",{className:"navItems"},o.a.createElement(T,{path:"/"},"Home"),o.a.createElement(T,{path:"/add-quote"},"Add Quote!")))},A=a(124),D=a.n(A),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={openDrawer:!1},a.toggleSidedrawer=function(){a.setState(function(e){return{openDrawer:!e.openDrawer}})},a.addAuthor=function(){a.toggleSidedrawer()},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:D.a.Layout},o.a.createElement(j,{open:this.state.openDrawer,clicked:this.toggleSidedrawer}),o.a.createElement(y,{clicked:this.toggleSidedrawer}),this.props.children)}}]),t}(n.Component),S=(a(151),a(125)),Q=a.n(S).a.create({baseURL:"https://great-books-5f716.firebaseio.com/"}),x=(a(171),a(32)),I=a(37),_=Object(x.c)({mapPropsToValues:function(){return{bookTitle:"",bookAuthor:"",bookQuote:""}},validationSchema:I.object().shape({bookTitle:I.string().required("This is a required field"),bookAuthor:I.string().required("This is a required field"),bookQuote:I.string().required("This is a required field")}),handleSubmit:function(e,t){var a=t.props,n=t.resetForm,o=t.setErrors,r=t.setStatus,c={author:e.bookAuthor,bookTitle:e.bookTitle,text:e.bookQuote};Q.post("/authors/-LaXx5hXMY-QQ9yn9rSv.json",c).then(function(){r({formStatus:"Quote added!"}),setTimeout(function(){return n()},2e3),a.fetchData()}).catch(function(e){console.log(e),o({formError:"An error has ocurred :("}),setTimeout(function(){return n()},2e3)})}})(function(e){e.values;var t=e.errors,a=e.touched,n=e.status,r=e.isSubmitting;return o.a.createElement(x.b,{className:"addQuoteForm"},o.a.createElement("h1",null,"Add a quote"),n&&void 0!==a.length?o.a.createElement("h2",null,n.formStatus):null,o.a.createElement("div",{className:"inputContainer"},o.a.createElement(x.a,{type:"text",name:"bookTitle",placeholder:"Name of the book"}),a.bookTitle&&t.bookTitle?o.a.createElement("p",{className:"formError"},t.bookTitle):null),o.a.createElement("div",{className:"inputContainer"},o.a.createElement(x.a,{type:"text",name:"bookAuthor",placeholder:"Name of the author"}),a.bookAuthor&&t.bookAuthor?o.a.createElement("p",{className:"formError"},t.bookAuthor):null),o.a.createElement("div",{className:"inputContainer"},o.a.createElement(x.a,{type:"text",component:"textarea",name:"bookQuote",placeholder:"Please write the quote..."}),a.bookQuote&&t.bookQuote?o.a.createElement("p",{className:"formError"},t.bookQuote):null),o.a.createElement("button",{type:"submit",disabled:r},"Add Quote"),o.a.createElement("div",{className:"status"},n?o.a.createElement("h2",null,n.formStatus):null,t?o.a.createElement("h2",null,t.formError):null))}),B=a(128),q=a.n(B),C=function(){return o.a.createElement("div",{className:q.a.loader},"Loading...")},L=function(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e},M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={loaded:!1},a.getDataFromDB=function(){Q.get("/authors/-LaXx5hXMY-QQ9yn9rSv.json").then(function(e){var t=e.data;a.setState({quotes:t,loaded:!0})}).catch(function(e){return console.log(e)})},a.addQuoteHandler=function(e){Q.post("/authors/-LaXx5hXMY-QQ9yn9rSv.json",e).then(function(){return a.getDataFromDB()}).catch(function(e){return console.log(e)})},a.getTurnData=function(){var e,t=[],n=Object(l.a)({},a.state.quotes);for(var o in n)t.push(n[o].bookTitle);var r=(t=L(t).splice(0,4))[Math.floor(Math.random()*t.length)];for(var c in n)n[c].bookTitle===r&&(e=Object(l.a)({},n[c]));return{bookInfo:Object(l.a)({},e),bookList:t}},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getDataFromDB()}},{key:"render",value:function(){var e=this,t=o.a.createElement(C,null);return this.state.loaded&&(t=o.a.createElement(h.a,{path:"/",exact:!0,render:function(t){return o.a.createElement(k,Object.assign({turnData:e.getTurnData},t))}})),o.a.createElement(O,null,t,o.a.createElement(h.a,{path:"/add-quote",render:function(t){return o.a.createElement(_,Object.assign({updateQuotes:e.addQuoteHandler,fetchData:e.getDataFromDB},t))}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=o.a.createElement(g.a,null,o.a.createElement(M,null));c.a.render(H,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[129,1,2]]]);
//# sourceMappingURL=main.a1451219.chunk.js.map